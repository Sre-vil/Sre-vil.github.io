---
title: "Chapter02. 네트워크와 케이블, 그리고 친구들"
categories: [CS, Network]
tags: [네트워크, 후니]
mermaid: true
---
> **Chapter02의 핵심 내용**  
> - LAN(Local Area Network)란 무엇인가?  
> - 이더넷이란(with CSMA/CD Protocol)?  
> - UTP 케이블이란?  
> - 케이블의 카테고리  
> - 회선 속도  
> - MAC Address란?  
> - 유니캐스트, 브로드캐스트, 멀티캐스트  
> - OSI 7 계층 요약  
> - 프로토콜이란?  
{: .prompt-tip }

# 2.1 LAN(Local Area Network)  
- 어느 한정된 공간에서 네트워크를 구성  

# 2.2 이더넷  
- 네트워크를 만드는 방법 중 하나  
- CSMA/CD 프로토콜을 사용하여 통신한다는 특징이 있음  
    > **CSMA/CD 프로토콜이란?**  
    > - Carrier Sense Multiple Access/Collision Detection의 줄임말  
    > - 통신을 하고 싶은 PC는 먼저 네트워크 자원을 쓰고 있는(즉, 통신하고 있는) PC가 있는지 확인 => **Carrier Sense**  
    >   - 캐리어(네트워크상에 나타나는 신호)가 감지되면 대기  
    >   - 캐리어가 감지되지 않으면 전송  
    > - 우연하게 두 개의 PC가 동시에 전송 => **Multi Access**  
    >   - 이 경우 충돌이 발생함  
    >   - 충돌 발생 시 PC들은 전송을 중단하고, 랜덤한 시간 후에 다시 전송을 시도함  
    > - 이를 위해서는 PC들이 데이터를 전송한 후 다른 PC때문에 충돌이 발생하지 않았는지 확인해야 함 => **Collision Detection**    
    {: .prompt-info }  

- 대한민국에서 사용하고 있는 네트워킹 방식의 대부분이 이더넷 방식임  
- 네트워킹 방식에는 토큰링 방식, FDDI 방식, ATM 방식 등이 있으며, <u>네트워킹 방식에 따라</u> 랜카드를 비롯한 <u>네트워크 장비들이 다름</u>  
    > **랜카드(NIC; Network Interface Card)란?**  
    > - 컴퓨터가 인터넷이나 네트워크에 연결될 수 있도록 해주는 장치  
    > - 유선이라면 LAN 케이블을 꽂는 곳이 있는 하드웨어, 무선이라면 Wi-Fi 신호를 잡아주는 하드웨어  
    > - 랜카드는 단독으로 일하지 못하며, 네트워크 방식(프로토콜)을 따라야 통신이 가능  
    > => 즉, **랜카드**는 네트워크에 연결된 여러 장비들이 서로 데이터를 주고받을 때 사용하는 <u>통신 방식을 지원</u>해야 <u>정상적으로 네트워크에서 작동 가능</u>  
    {: .prompt-info }

# 2.3 UTP 케이블  
- 통신 케이블은 장비와 장비의 연결 어디에나 들어감  
    - 광케이블, UTP 케이블, 동축 케이블 등 다양한 종류가 있음  
- TP 케이블이란 "Twisted Pair"의 약자로, "한 쌍(즉 두 가닥)이 서로 꼬여 있는 것"을 의미  
- TP 케이블에는 UTP와 STP가 있음  
    - UTP : Unshielded TP, 감싸지지 않은 TP 케이블을 의미하며, 우리가 주로 사용하는 케이블임  
    - STP : Shielded TP, 감싸진 TP 케이블을 의미하며, 비싸고 성능이 좋음. EMI(Electromagnetic Interference)를 줄여주므로 전자기 간섭이 많은 환경(공장, 병원 등)에서 많이 사용됨. 추가적으로 잡음을 막아줘서, 신호 품질을 유지하는 데 도움이 됨  
    > STP는 주로 토큰링쪽에 많이 사용되는데, 토큰링 방식이 노이즈에 민감한 구조이기 때문임  

# 2.4 케이블의 카테고리  
- UTP 케이블은 카테고리로 나뉘어 있음  
    - 카테고리 1 : 전화선  
    - 카테고리 2 : 4Mbps  
    - 카테고리 3 : 10Mbps, 100m  
    - 카테고리 4 : 16Mbps, 100m  
    - 카테고리 5 : 100Mbps, 100m. Fast Ethernet에서 사용됨. 기가비트 표준이 완성되며 8가닥을 모두 사용하여 기가비트 속도의 데이터 전송이 가능해졌음      
    - 카테고리 6 : 1Gbps, 55m. 최근 사용하는 케이블 중 가장 많은 종류    
    - 카테고리 6a : 10Gbps, 100m  
    - 카테고리 7 : 10Gbps, 100m  
    - 카테고리 8 : 최대 속도는 같지만, 길이가 짧아짐(30m)  
    > 현재 케이블에서 10Gbps를 사용하려고 한다면 최소 Cat6 이상이 필요함  
    > 10Gbps로 100미터 이상을 지원하기 위해서는 Cat6a 이상이 필요함  
    {: .prompt-info }

- 케이블의 경우 속도가 빨라지면 빨라질수록 전송 거리는 짧아짐  

- 케이블 종류 표기법 설명(예시 : 10 Base T)  
    - 10 : 전송 속도. 10Mbps
    - Base : Baseband, 즉 디지털 신호를 의미. Broadband는 아날로그 방식  
    - T : Twisted Pair, 즉 TP 케이블을 의미  
    - T 대신 숫자가 나올 수 있는데, 이 경우 최대 통신 거리를 의미.(500m)  

- UTP는 4가닥으로 보이지만, 8가닥으로 2가닥이 꼬여있음.  
- 화이트오렌지 - 오렌지 - 화이트 그린 - 블루 - 화이트 블루 - 그린 - 화이트 브라운 - 브라운  
- 1번에서 8번까지 양쪽을 같은 순서로 연결한 경우 "**다이렉트 케이블**"  
    - 통신에 사용되는 케이블은 1, 2번과 3, 6번  
- 한쪽을 12345678, 반대쪽을 36145278로 연결한 경우 "**크로스 케이블**"  
    - 크로스 케이블은 PC <-> PC, Hub <-> Hub 연결 시 사용  
    - 다이렉트 케이블은 PC <-> Hub, Hub <-> Router 연결 시 사용  

# 2.5 회선 속도  
- 인터넷 연결 방법에 전용선, 전화선(모뎀 이용), ISDN, 케이블 모뎀, ADSL 등이 있음  
- 전용선을 제외한 모든 방법은 가정집에서 인터넷을 접속할 때 사용하는 방법임  
- 사무실 등 여러 대의 컴퓨터를 인터넷에 접속할 경우 라우터를 이용해서 ISP(Internet Service Provider)와 **전용선**으로 연결하게 됨  
    - **전용선**은 우리가 현재 사용하고 있는 내부의 네트워크와 ISP간을 연결하는 회선  
- 인터넷 접속 속도는 회선 속도에 따라 크게 자우되지만, ISP 업체 선정도 중요  
    - ISP 업체가 얼마의 속도로 인터넷에 접속하는가  
    - ISP 업체의 네트워크에 대한 안전성 등을 고려  
    - ISP 업체가 인터넷을 연결한 전용선의 속도가 느리다면 혹은 사용자가 많아 사용 가능 대역폭이 줄어든다면 속도가 느려질 수 있음  
- ISP 선정 후 회선 속도 결정
    - 대부분의 모뎀이 56K를 지원 
    - 이는 1초에 56,000bit를 전송할 수 있음  
    - 8bit = 1byte. 한글 한 글자는 2Byte => 1초에 약 3,500자 전송 가능  
- 네트워크에는 항상 오버헤드라는 것이 존재하기 때문에, 이론적으로 나오는 속도와 오버헤드들이 포함된 속도에는 차이가 있음  

# 2.6 MAC Address  
- MAC(Media Access Control)
- 네트워크상에서 통신을 위해서는 서로를 구분할 일종의 주소가 필요함. IP와 MAC 주소가 있음  
- IP 주소를 MAC 주소로 변환하는 절차(ARP; Address Resolution Protocol)를 수행함  

- 통신 대상이 같은 네트워크에 있다면 브로드캐스트를 통해 MAC 주소를 얻은 후 통신함  
- 통신 대상이 다른 네트워크에 있다면 전송자의 라우터가 라우터 자신의 MAC 주소를 제공해줌 -> 라우터가 다른 네트워크에 있는 PC에게 전송함(라우터는 기본적으로 브로드캐스트를 통과시키지 않음. 그렇기에 라우터가 대신 처리하는 것)  

- 네트워크에 연결된 장비들은 48bit(6octet; octet=8bit)의 주소를 갖게 되는데, 이 주소는 랜카드 또는 네트워크 장비에 이미 고정되어 있는 유일한 주소  

- Network에서 MAC 주소는 Physical 주소
- Network에서 IP 주소는 Logical 주소  

- MAC Address는 8자리마다 하이픈(-), 콜론(:), 점(.)으로 구분됨  
    - 예시 : 00-00-00-00-00-00, 00:00:00:00:00:00, 0000.0000.0000  
    - 앞쪽 6개의 16진수(00-00-00)은 벤더(생산자)를 나타내는 코드로 OUI(Organizationally Unique Identifier)라고 함  
    - 뒤쪽 6개의 16진수(00-00-00)는 랜카드의 일련번호로 NIC(네트워크 인터페이스 카드) 시리얼 넘버라고 함  
    - 위 표시는 16진수로 작성된 것이므로, 각 한자리 숫자는 이진수 4자리로 묶어서 만든 결과임. 그래서 48bit라고 할 수 있음  

# 2.7 유니캐스트, 브로드캐스트, 멀티캐스트  
- 현재 네트워크상에서 가장 많이 사용되는 트래픽은 유니캐스트임  

- 유니캐스트는 1:1 통신을 의미하며, 프레임 안에 출발지 주소와 목적지 주소(MAC 주소)가 모두 포함된 통신 방식을 의미함  
    > **프레임이란?**  
    > - Data Link Layer(OSI 2계층)에서 사용되는 데이터 전송 단위  
    > - 네트워크 상에서 장비 간에 물리적으로 오가는 최소 단위의 데이터 덩어리임  
    {: .prompt-info }  

    - PC가 유니캐스트 프레임을 전송하면, 로컬 이더넷의 기본 성격 상 모든 PC들에게 정보를 전송함(Shared 방식) -> 로컬 네트워크 상에 있는 모든 PC들은 일단 프레임을 수신 -> 랜카드에서 자신의 MAC Address와 비교 -> MAC Address가 일치하는 PC만 수신하여 CPU로 프레임 전송/일치하지 않는다면 버림  

- 브로드캐스트는 로컬 랜에 붙어 있는 모든 네트워크 장비들에게 보내는 통신임  
- 브로드캐스트의 주소는 `FF:FF:FF:FF:FF:FF`로 설정되어 있음  
    - 이 주소는 자신의 랜카드 주소와 비교하지 않고 무조근 CPU로 전달함  
- 브로드캐스트를 수신하는 영역을 **브로드캐스트 도메인**이라 함  
- 브로드캐스트는 네트워크상의 전체 노드로 전송하기 때문에 전체적인 트래픽도 증가함  
    - 패킷을 받은 모든 랜카드가 CPU로 전달하기 때문에 PC의 성능도 떨어짐  

- 브로드캐스트는 상대의 MAC Address를 알아내기 위해서 사용함(ARP)  
- 또한, 라우터끼리 정보를 교환할 때, 다른 라우터를 찾을 때, 자신이 어떤 서비스를 제공한다는 것을 클라이언트에게 알릴 때 등에 사용함  
- 보통 한 번 발생하고 끝나는 것이 아니라 30초나 1분에 한 번씩 주기적으로 발생함  

- 멀티캐스트는 유니캐스트와 브로드캐스트의 중간 형태로, 특정 그룹에 속한 PC들에게만 보내는 통신임  
- 기존의 네트워크에서 트래픽은 유니캐스트와 브로드캐스트만 존재했지만, 멀티미디어 등의 영향으로 멀티캐스트의 사용이 늘어나는 추세임  
- 멀티캐스트는 라우터나 스위치에서 이 기능을 제공해야 사용할 수 있음  
    - 지원하지 않는 라우터의 경우, 브로드캐스트라고 판단하여 전부 차단  
    - 지원하지 않는 스위치의 경우, 모든 포트로 뿌림(브로드캐스트처럼)  
- 멀티캐스트는 IP 주소의 경우 클래스 D를 사용함  

# 2.8 OSI 7 계층 요약  
- OSI(Open System Interconnection)은 통신에 관한 국제표준기구인 ISO(International Organization for Standardization)에서 만든 <u>통신이 일어나는 과정</u>을 7개의 단계로 나눈 것  
- 통신을 7개의 단계별로 표준화하여 그 효율성을 높이기 위해 사용됨  
    1. Physical Layer(물리 계층) - 데이터 케이블, 허브 등  
        - 통신의 맨 아래 단계  
        - 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송하게 됨  
        - 통신 단위는 비트(전기적으로 On, Off 상태)  
        - 데이터를 전달할 뿐 어떤 데이터인지, 어떤 에러가 있는지, 어떻게 전송하는 것이 효율적인지 등에 대해서는 전혀 관여하지 않음  
    2. Data Link Layer(데이터 링크 계층) - 스위치, 브리지 등  
        - 물리 계층을 통하여 송·수신되는 정보의 오류와 흐름을 관리하여 안전한 정보의 전달을 수행할 수 있도록 도움  
        - 통신에서의 오류도 찾아주고 재전송도 함  
        - MAC Address를 가지고 통신할 수 있게 함  
        - 통신 단위는 프레임  
    3. Network Layer(네트워크 계층) - 라우터 등  
        - 데이터를 목적지까지 가장 안전하고 빠르게 전달하기 위해 경로를 설정함(라우팅)  
        - 스위치 중에서 라우팅 기능을 수행하는 스위치가 있는데, 이를 L3 스위치라 함  
    4. Transport Layer(전송 계층)  
        - flow control과 에러 복구 기능을 가짐  
        - 에러 복구를 위해 패킷을 재전송하거나 flow를 조절해서 데이터가 정상적으로 전송될 수 있도록 함  
        - TCP/UDP  
    5. Session Layer(세션 계층)
    6. Presentation Layer(표현 계층)
    7. Application Layer(응용 계층)

- 왜 이렇게 나눴을까?  
    - 데이터의 흐름이 한눈에 보임  
    - 네트워크에서 문제 발생 시 7개의 작은 문제로 나누면 문제를 해결하기 쉬움  
        - 예를 들어, 전자메일이 안된다면? -> Ping 전송(인터넷 끊어졌는지 확인) -> 이상없다면 L1, L2, L3에는 문제 없음  
        - 예를 들어, PC 방에서 인터넷이 안된다면? -> 물리 계층 문제  
            -> 물리 계층은 실제로 데이터를 전송하는 네트워크 장비와 연결을 담당하는 계층이다. 
            -> 이 계층에 문제가 발생하면 데이터가 제대로 전송되지 않거나 인터넷 연결이 끊길 수 있다.  
    - 여러 회사 장비를 사용해도 네트워크가 이상없이 작동함  

- 전송한 데이터는 각 계층을 내려가며 포장됨(Encapsulation)  
- 포장에는 헤더라는 정보가 붙게됨  
- 헤더에는 각 계층별로 관리하는 여러 관리 사항들이 붙음(해당 계층을 잘 지나갈 수 있도록 하는)  
    - 네트워크 계층의 헤더에는 IP 주소가 붙음  
    - 물리 계층에서는 네트워크 케이블을 통해 이진수로 바뀌어서 전기적 신호가 전달됨  
- 수신된 메시지는 각 계층을 올라가며 포장을 벗김(Decapsulation)  
    - 각 계층별로 내용에 이상이 없는지 확인  
    - 만약 L4에서 문제가 발견되면 재전송 요구 및 에러 복구 시도  


# 2.9 프로토콜이란?  
- 컴퓨터끼리 서로 통신하기 위해 꼭 필요한 서로 간의 통신 규약 또는 통신 방식에 대한 약속  
- 프로토콜이 같은 것끼리만 통신 가능  

- 대표적인 프로토콜  
    1. TCP/IP = Transmission Control Protocol/Internet Protocol  
    2. IPX = Internetwork Packet Exchange  
        - 인터넷에 접속한 사람들과 게임을 하는 것은? => TCP/IP  
        - 같은 PC 방에서 친구들끼리 편을 나누어 게임을 한다면? => IPX  
    3. AppleTalk = 맥이라고 부르는 매킨토시들이 서로 간의 통신을 위해 사용하는 프로토콜  