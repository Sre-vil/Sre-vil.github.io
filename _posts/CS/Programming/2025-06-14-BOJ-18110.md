---
title: "[BOJ]18110.solved.ac"
categories: [Programming, Python]
tags: [Python, BOJ, Class2]
mermaid: true
---
### 문제 설명  
어떤 문제의 난이도는 그 문제를 푼 사람들이 제출한 난이도 의견을 바탕으로 결정한다. 난이도 의견은 그 사용자가 생각한 난이도를 의미하는 정수 하나로 주어진다. solved.ac가 사용자들의 의견을 바탕으로 난이도를 결정하는 방식은 다음과 같다.  

아직 아무 의견이 없다면 문제의 난이도는 0으로 결정한다.  
의견이 하나 이상 있다면, 문제의 난이도는 모든 사람의 난이도 의견의 30% 절사평균으로 결정한다.
절사평균이란 극단적인 값들이 평균을 왜곡하는 것을 막기 위해 가장 큰 값들과 가장 작은 값들을 제외하고 평균을 내는 것을 말한다. 30% 절사평균의 경우 위에서 15%, 아래에서 15%를 각각 제외하고 평균을 계산한다. 따라서 20명이 투표했다면, 가장 높은 난이도에 투표한 3명과 가장 낮은 난이도에 투표한 3명의 투표는 평균 계산에 반영하지 않는다는 것이다.  

제외되는 사람의 수는 위, 아래에서 각각 반올림한다. 25명이 투표한 경우 위, 아래에서 각각 3.75명을 제외해야 하는데, 이 경우 반올림해 4명씩을 제외한다.  

마지막으로, 계산된 평균도 정수로 반올림된다. 절사평균이 16.7이었다면 최종 난이도는 17이 된다.  

사용자들이 어떤 문제에 제출한 난이도 의견 목록이 주어질 때, solved.ac가 결정한 문제의 난이도를 계산하는 프로그램을 작성하시오.  

### 내가 작성한 코드  
```python
import sys
input = sys.stdin.readline

def my_round(val):
    return int(val + 0.5)

n = int(input())

if n == 0: print(0)
else:
    tmp = sorted([int(input()) for _ in range(n)])
    ex = my_round(n*0.15)
    
    if ex > 0: res = tmp[ex:-ex]
    else: res = tmp

    
    if res:
        avg = my_round(sum(res)/len(res))
        print(avg)
    else: print(0)
```

### 새롭게 배운 사실  
- **사사오입**  
    - 일반적인 반올림 방식  
    - 버릴 숫자의 첫째 자리가 5 이상이면 올림, 4 이하이면 버리는 방식  
- **오사오입**  
    - 통계적 편향을 줄이기 위해 공학이나 금융 계산에서 주로 사용됨  
    - 버릴 숫자의 첫째 자리가 5보다 크면 올림, 5보다 작으면 버림  
    - 정확히 5라면, 반올림 결과가 짝수가 되는 방향으로 결정함  
    - .5를 만났을 때 올리는 경우와 버리는 경우가 번갈아 나타날 확률이 높아져, 많은 데이터를 처리할 때 합계의 오차를 줄여줌  

- **파이썬의 `round()` 함수**  
    - 기본적으로 **오사오입 방식**으로 동작함  

- **사사오입을 하는`my_round()` 함수 생성**  
    - `+0.5`를 통해 반올림의 기준점인 0.5를 넘는 값들만 다음 정수의 영역으로 밀어줌  
    - `int()`를 사용하여 소수점 이하를 버림으로써 정수로 변환함  
    - 버릴 숫자의 첫째 자리가 딱 5인 경우, `+0.5`를 진행하면 올림이 되므로, 사사오입 방식으로 반올림이 이루어짐  